{
	"info": {
		"_postman_id": "e7a32362-b34a-42ee-b118-8483e3128858",
		"name": "Consultation Visa API",
		"description": "Complete API collection for testing the Consultation Visa booking system",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "37869733"
	},
	"item": [
		{
			"name": "Authentication",
			"item": [
				{
					"name": "User Signup",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"John Doe\",\n  \"email\": \"john.doe@example.com\",\n  \"password\": \"password123\",\n  \"phone\": \"+61412345678\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/auth/signup",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"auth",
								"signup"
							]
						}
					},
					"response": []
				},
				{
					"name": "Verify OTP",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"john.doe@example.com\",\n  \"otp\": \"123456\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/auth/verify-otp",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"auth",
								"verify-otp"
							]
						}
					},
					"response": []
				},
				{
					"name": "User Login",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"john.doe@example.com\",\n  \"password\": \"password123\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/auth/login",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"auth",
								"login"
							]
						}
					},
					"response": []
				},
				{
					"name": "Resend OTP",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"john.doe@example.com\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/auth/resend-otp",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"auth",
								"resend-otp"
							]
						}
					},
					"response": []
				},
				{
					"name": "Forgot Password",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"john.doe@example.com\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/auth/forgot-password",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"auth",
								"forgot-password"
							]
						}
					},
					"response": []
				},
				{
					"name": "Verify Forgot Password OTP",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"john.doe@example.com\",\n  \"otp\": \"123456\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/auth/forgot-password/verify-otp",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"auth",
								"forgot-password",
								"verify-otp"
							]
						}
					},
					"response": []
				},
				{
					"name": "Reset Password",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"john.doe@example.com\",\n  \"otp\": \"123456\",\n  \"newPassword\": \"newpassword123\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/auth/forgot-password/reset",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"auth",
								"forgot-password",
								"reset"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Bookings",
			"item": [
				{
					"name": "Get Available Slots",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/bookings/availability/2024-12-25?timezone=Australia/Sydney",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"bookings",
								"availability",
								"2024-12-25"
							],
							"query": [
								{
									"key": "timezone",
									"value": "Australia/Sydney"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Create Booking",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"date\": \"2024-12-25\",\n  \"startTime\": \"10:00\",\n  \"endTime\": \"11:00\",\n  \"duration\": 60,\n  \"amount\": 150.00,\n  \"notes\": \"Visa consultation for student visa application\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/bookings/create",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"bookings",
								"create"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get My Bookings",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/bookings/my-bookings?status=pending",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"bookings",
								"my-bookings"
							],
							"query": [
								{
									"key": "status",
									"value": "pending"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Specific Booking",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/bookings/{{bookingId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"bookings",
								"{{bookingId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Cancel Booking",
					"request": {
						"method": "PATCH",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"reason\": \"Change of plans\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/bookings/{{bookingId}}/cancel",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"bookings",
								"{{bookingId}}",
								"cancel"
							]
						}
					},
					"response": []
				},
				{
					"name": "Reschedule Booking",
					"request": {
						"method": "PATCH",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"newDate\": \"2024-12-26\",\n  \"newStartTime\": \"14:00\",\n  \"newEndTime\": \"15:00\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/bookings/{{bookingId}}/reschedule",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"bookings",
								"{{bookingId}}",
								"reschedule"
							]
						}
					},
					"response": []
				},
				{
					"name": "cancel with refund",
					"request": {
						"method": "GET",
						"header": []
					},
					"response": []
				},
				{
					"name": "getStatus",
					"request": {
						"method": "GET",
						"header": []
					},
					"response": []
				},
				{
					"name": "public service",
					"request": {
						"method": "GET",
						"header": []
					},
					"response": []
				}
			]
		},
		{
			"name": "Payments",
			"item": [
				{
					"name": "Create PayPal Payment",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/bookings/{{bookingId}}/payment/create",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"bookings",
								"{{bookingId}}",
								"payment",
								"create"
							]
						}
					},
					"response": []
				},
				{
					"name": "Capture PayPal Payment",
					"request": {
						"method": "POST",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/bookings/payment/capture/PAYPAL_ORDER_ID",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"bookings",
								"payment",
								"capture",
								"PAYPAL_ORDER_ID"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Payment Status",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/bookings/payment/status/{{paymentId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"bookings",
								"payment",
								"status",
								"{{paymentId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Process Refund (Admin)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"amount\": 150.00,\n  \"reason\": \"Customer requested refund\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/bookings/payment/refund/{{paymentId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"bookings",
								"payment",
								"refund",
								"{{paymentId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "User Refund Request",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"reason\": \"Booking cancelled by user\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/bookings/{{bookingId}}/refund",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"bookings",
								"{{bookingId}}",
								"refund"
							]
						}
					},
					"response": []
				},
				{
					"name": "PayPal Webhook",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"id\": \"webhook-event-id\",\n  \"event_type\": \"PAYMENT.CAPTURE.COMPLETED\",\n  \"resource\": {\n    \"id\": \"payment-id\",\n    \"status\": \"COMPLETED\"\n  }\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/bookings/payment/paypal/webhook",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"bookings",
								"payment",
								"paypal",
								"webhook"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Admin",
			"item": [
				{
					"name": "Add Consultant",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"Dr. Sarah Johnson\",\n  \"email\": \"sarah.johnson@consultation-visa.com\",\n  \"phone\": \"+61412345678\",\n  \"specialization\": \"Student Visa Specialist\",\n  \"workingHours\": [\n    {\n      \"day\": \"monday\",\n      \"startTime\": \"09:00\",\n      \"endTime\": \"17:00\"\n    },\n    {\n      \"day\": \"tuesday\",\n      \"startTime\": \"09:00\",\n      \"endTime\": \"17:00\"\n    },\n    {\n      \"day\": \"wednesday\",\n      \"startTime\": \"09:00\",\n      \"endTime\": \"17:00\"\n    },\n    {\n      \"day\": \"thursday\",\n      \"startTime\": \"09:00\",\n      \"endTime\": \"17:00\"\n    },\n    {\n      \"day\": \"friday\",\n      \"startTime\": \"09:00\",\n      \"endTime\": \"17:00\"\n    }\n  ],\n  \"isActive\": true\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/admin/consultants",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"admin",
								"consultants"
							]
						}
					},
					"response": []
				},
				{
					"name": "Add Global Holiday",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"date\": \"2024-01-01\",\n  \"reason\": \"New Year's Day\",\n  \"isRecurring\": true\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/admin/holidays/all",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"admin",
								"holidays",
								"all"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get All Holidays",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/admin/holidays",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"admin",
								"holidays"
							]
						}
					},
					"response": []
				},
				{
					"name": "Update Holiday",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"date\": \"2024-12-25\",\n  \"reason\": \"Christmas Day - Updated\",\n  \"isRecurring\": false\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/admin/holidays/HOLIDAY_ID",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"admin",
								"holidays",
								"HOLIDAY_ID"
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete Holiday",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/admin/holidays/HOLIDAY_ID",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"admin",
								"holidays",
								"HOLIDAY_ID"
							]
						}
					},
					"response": []
				},
				{
					"name": "All users",
					"request": {
						"method": "GET",
						"header": []
					},
					"response": []
				},
				{
					"name": "get all bookings",
					"request": {
						"method": "GET",
						"header": []
					},
					"response": []
				}
			]
		},
		{
			"name": "Mail",
			"item": [
				{
					"name": "Test Email",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/mail/",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"mail",
								""
							]
						}
					},
					"response": []
				}
			]
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"packages": {},
				"requests": {},
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"packages": {},
				"requests": {},
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"key": "baseUrl",
			"value": "http://localhost:5000/api/v1"
		},
		{
			"key": "authToken",
			"value": ""
		},
		{
			"key": "bookingId",
			"value": ""
		},
		{
			"key": "paymentId",
			"value": ""
		}
	]
}